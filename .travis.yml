language: cpp

compiler:
     - gcc
before_install:
    - echo ============ BOOST  INSTALL =============
    - sudo apt-get install libboost-system1.55-dev libboost-filesystem1.55-dev libboost-chrono1.55-dev libboost-thread1.55-dev libboost-log1.55-dev libboost-log1.55_setup-dev
    - echo ============ MONGO  INSTALL =============
    - mkdir mongo
    - cd mongo
    - git clone https://github.com/mongodb/mongo-cxx-driver.git
    - cd mongo-cxx-driver
    - ls
    - scons -j2 --64 --mute --sharedclient --prefix=$HOME/mongo-cxx install
    - ls $HOME/mongo-cxx
    - cd ../../
    - echo ============ ASSIMP INSTALL =============
    - mkdir assimp
    - cd assimp
    - git clone --branch=multipart https://github.com/3drepo/assimp.git      
    - CXXFLAGS+=-std=c++0x cmake -DASSIMP_BUILD_TESTS=OFF assimp
    - sudo make install
    - cd ../
before_script:
    - ls
    - MONGO_ROOT=$HOME/mongo-cxx cmake -DREPO_BUILD_CLIENT=ON -DREPO_BUILD_TESTS=ON .
script:
    make install

branches:
   only:
       - master
       - ISSUE_24

notifications:
    email: true
