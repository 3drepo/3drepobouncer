language: cpp

compiler:
     - gcc
before_install:
    - echo ============ BOOST  INSTALL =============
    - sudo apt-get install libboost-all-dev
    - echo ============ MONGO  INSTALL =============
    - mkdir mongo
    - cd mongo
    - git clone https://github.com/mongodb/mongo-cxx-driver.git
    - git checkout -b legacy
    - scons -j2 --64 --mute --sharedclient --use-system-boost install
    - cd ../
    - echo ============ ASSIMP INSTALL =============
    - mkdir assimp
    - cd assimp
    - git clone https://github.com/3drepo/assimp.git      
    - cmake -DASSIMP_BUILD_TESTS=OFF assimp
    - sudo make install
    - cd ..
before_script:
    - ls
    - cmake -DREPO_BUILD_CLIENT=ON -DREPO_BUILD_TESTS=ON .
script:
    make install

branches:
   only:
       - master
       - ISSUE_24

notifications:
    email: true
